<form [formGroup]="form" (ngSubmit)="onSubmit()" class="example-form">

	<mat-form-field class="example-full-width" appearance="outline">
		<mat-label>Subject</mat-label>
		<input matInput name="subject" #subject maxlength="100" placeholder="Could be a device name as well" formControlName="subject" required>
		<mat-hint align="start"><strong>Patient name</strong> </mat-hint>
		<mat-hint align="end">{{subject.value.length}} / 100</mat-hint>
	</mat-form-field>

	<mat-form-field class="example-full-width" appearance="outline">
		<mat-label>Code</mat-label>
		<input matInput name="code" #code maxlength="5" placeholder="Sometimes this is called the observation 'name'." formControlName="code" required>
		<mat-hint align="start"><strong>Describes what was observed.</strong> </mat-hint>
		<mat-hint align="end">{{code.value.length}} / 5</mat-hint>
	</mat-form-field>

	<mat-form-field class="example-full-width" appearance="outline">
		<mat-label>Value</mat-label>
		<input matInput name="valuee" #valuee maxlength="100" placeholder="Could be anything" formControlName="valuee" required>
		<mat-hint align="start"><strong>The value of the result</strong> </mat-hint>
		<mat-hint align="end">{{valuee.value.length}} / 100</mat-hint>
	</mat-form-field>

	<mat-form-field class="example-full-width" appearance="outline">
		<mat-label>Note</mat-label>
		<input matInput name="note" #note maxlength="100" placeholder="Add a note" formControlName="note">
		<mat-hint align="start"><strong>If there's any note</strong> </mat-hint>
		<mat-hint align="end">{{note.value.length}} / 100</mat-hint>
	</mat-form-field>

	<div class="row">
		<mat-form-field appearance="fill">
			<mat-label>Status</mat-label>
			<mat-select color='primary' [(ngModel)]="selectedStatus" name="status" formControlName="status" required>
				<mat-option *ngFor="let status of statuses" [value]="status">
				{{status}}
				</mat-option>
			</mat-select>
			<mat-hint align="start"><strong>The status of the observation</strong> </mat-hint>
		</mat-form-field>

	
		<mat-form-field appearance="fill">
			<mat-label>Category</mat-label>
			<mat-select color='primary' [(ngModel)]="selectedCategory" name="category" formControlName="category" required>
				<mat-option *ngFor="let category of categories" [value]="category">
				{{category}}
				</mat-option>
			</mat-select>
			<mat-hint align="start"><strong>The category of the observation</strong> </mat-hint>
		</mat-form-field>
	</div>

	<div class="row">
		<mat-form-field appearance="fill">
			<mat-label>Interpretation</mat-label>
			<mat-select color='primary' [(ngModel)]="selectedInterpretation" name="interpretation" formControlName="interpretation" required>
				<mat-option *ngFor="let interpretation of interpretations" [value]="interpretation">
				{{interpretation}}
				</mat-option>
			</mat-select>
			<mat-hint align="start"><strong>TODO</strong> </mat-hint>
		</mat-form-field>

		<mat-form-field appearance="fill">
			<mat-label>Body site</mat-label>
			<mat-select color='primary' [(ngModel)]="selectedBodySite" name="bodySite" formControlName="bodySite" required>
				<mat-option *ngFor="let bodySite of bodySites" [value]="bodySite">
				{{bodySite}}
				</mat-option>
			</mat-select>
			<mat-hint align="start"><strong>{{currentDate}}</strong> </mat-hint>
		</mat-form-field>
	</div>

	<div class="row">
		<mat-form-field appearance="fill">
			<mat-label>Effective from</mat-label>
			<input matInput [matDatepicker]="effective" formControlName="effective" required>
			<mat-datepicker-toggle matSuffix [for]="effective"></mat-datepicker-toggle>
			<mat-datepicker #effective></mat-datepicker>
		</mat-form-field>

		<mat-form-field appearance="fill">
			<mat-label>Issed at</mat-label>
			<input matInput [matDatepicker]="issued" formControlName="issued" required>
			<mat-datepicker-toggle matSuffix [for]="issued"></mat-datepicker-toggle>
			<mat-datepicker #issued></mat-datepicker>
		</mat-form-field>
	</div>

	<br>

	<button mat-stroked-button type="submit" class="w-25 mt-3" (click)='close()'>Close</button>
	<button mat-stroked-button type="submit" class="w-25 mt-3" [mat-dialog-close]='form.value' [disabled]="form.invalid">Insert</button>

</form>